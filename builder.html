<!DOCTYPE html>
    <html class="no-js" lang="en">
    <head>
    <meta charset='utf-8'/>
    <title>KKML Kitchens</title>
    <link rel="icon" href="images/favicon.png">
    <link rel="stylesheet" type="text/css" href="css/main.css" />

    </head>
    <body id="page">

      <div class="container">
        <div class="b_header">
          <div class="b_logo">
            <a href="index.html"><img src="images/b_logo.png"/></a>
          </div>
          <div class="b_navigation">
            <nav>
                <ul>
                    <li>
                        <a href="builder.html">kitchen builder</a>
                    </li>
                    <li>
                        <a href="about_us.html">About us</a>
                    </li>
                    <li>
                        <a href="contacts.html">Contacts</a>
                    </li>
                </ul>
            </nav>
          </div>
        </div>
      </div>

      <div id="builderContainer">
        <div class="builder">
          <div class="topBar">
            <h2 class="mainTitle">BUILDER</h2>
            <a class="btn" id="download">Export as Image</a>
            <button class="btn"  type="button" id="save">Save document</button>
            <label for="uploadText" class="btn">
                Open file
            </label>
            <input class="fileContainer" id="uploadText" type="file" onchange="loadFileContent();" />


            <h2 class="price">Total Price: <span id="totalPrice">0</span></h2>

          </div>

          <div id="canvases">
            <div id="flashMessage">
              <h3 id="error">Error</h3>
              <p id="exp">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod.</p>
              <button type="button" id="close">X</button>
            </div>

            <canvas class="can" id="canL1" width="900" height="540"></canvas>
            <canvas class="can" id="canL2" width="900" height="540"></canvas>
            <canvas class="can" id="bg" width="900" height="540"></canvas>
            <canvas class="can" id="canL4" width="900" height="540"></canvas>
            <button class="btn" type="button" id="editFloor">SAVE FLOOR</button>
          </div>

          <div id="right">
            <h4 class="sectionTitle">SETTINGS</h4>

            <button class="btn settings" type="button" id="grid">TURN SNAP GRID <b>OFF</b></button>
            <button class="btn settings" type="button" id="gridVis">SHOW GRID</button>

            <br>
            <br>
            <br>
            <h4 id="cabinets" class="sectionTitle">CABINETS</h4>
            <canvas id="libCan" width="400" height="300"></canvas>
          </div>
        </div>
      </div>



        <script src="js/itemTypes.js" charset="utf-8"></script>
        <script src="js/main.js" charset="utf-8"></script>
        <script src="js/lib.js" charset="utf-8"></script>

        <script>
       // download canvas
       function downloadCanvas(link, canvasId, filename) {
           link.href = document.getElementById(canvasId).toDataURL();
           link.download = filename;
       }
       document.getElementById('download').addEventListener('click', function() {
           makeImg();
           var can3 = document.getElementById('canL4');
           var ctx3 = can3.getContext('2d');
           downloadCanvas(this, 'canL4', 'MyNewKitchen.jpg');
           ctx3.clearRect(0, 0, canL4.width, canL4.height);
       }, false);
       </script>
    </body>
</html>
